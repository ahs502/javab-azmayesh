var app=angular.module("JavabAzmayesh",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,o){e.state("home",{url:"/home",views:{"":{templateUrl:"home.html",controller:"HomeController"},menu:{templateUrl:"home/menu.html"},footer:{templateUrl:"home/footer.html"}},abstract:!0}).state("home.find",{url:"/find",templateUrl:"home/find.html",controller:"HomeFindController"}).state("home.otp",{url:"/otp",templateUrl:"home/otp.html",controller:"HomeOtpController"}).state("home.history",{url:"/history",templateUrl:"home/history.html",controller:"HomeHistoryController"}).state("home.about",{url:"/about",templateUrl:"home/about.html",controller:"HomeAboutController"}).state("home.contact",{url:"/contact",templateUrl:"home/contact.html",controller:"HomeContactController"}).state("history",{url:"/history",params:{nationalCode:null},views:{"":{templateUrl:"history.html",controller:"HistoryController"},header:{templateUrl:"history/header.html"}}}).state("answer",{url:"/answer",params:{nationalCode:null,testNumber:null,previousState:null},views:{"":{templateUrl:"answer.html",controller:"AnswerController"},menu:{templateUrl:"answer/menu.html"},header:{templateUrl:"answer/header.html"},footer:{templateUrl:"answer/footer.html"}}}),t.otherwise("/home/find")}]),app.run(["$rootScope","$state","$stateParams",function(e,t,o){t.go("home.find"),e.$state=t,e.$stateParams=o,e.data={},e.$on("$stateChangeStart",function(e,t,o,n,a,r){}),e.$on("$stateChangeSuccess",function(e,t,o,n,a){}),e.$on("$stateChangeError",function(e,t,o,n,a,r){})}]),app.controller("AnswerController",["$rootScope","$scope","$state","$stateParams",function(e,t,o,n){t.nationalCode=n.nationalCode,t.testNumber=n.testNumber,t.previousState=n.previousState,t.answer=e.data.answer,t.setBackHandler(function(){var e="history"===t.previousState?{nationalCode:t.nationalCode}:{};o.go(t.previousState,e)}),t.setMenuHandlers({saveFile:function(){},shareFile:function(){},printFile:function(){},goToLaboratory:function(){},laboratoryName:t.answer.laboratoryName}),t.setHeaderHandlers({paitentName:t.answer.paitentName}),t.setFooterHandlers({testDate:persianDate(t.answer.testDate).format("L"),testNumber:toPersianNumber(t.answer.testNumber)}),$("#answer-test-number").popup({inline:!0,transition:"scale"}),$("#answer-laboratory-name").popup({inline:!0,transition:"scale"})}]),app.controller("HistoryController",["$rootScope","$scope","$state","$stateParams","$timeout",function(e,t,o,n,a){function r(n){t.findingAnswer=!0,a(function(){return{testNumber:1234,nationalCode:"1234567890",paitentName:"حسام شکروی",testDate:new Date,answerDate:new Date,laboratoryName:"آزمایشگاه دکتر شاهپوری"}},400).then(function(a){e.data.answer=a,o.go("answer",{nationalCode:t.nationalCode,testNumber:n.testNumber,previousState:"history"})})}t.testClicked=r,t.nationalCode=n.nationalCode,t.paitentName=e.data.paitentName,t.paitentTests=e.data.paitentTests,t.setBackHandler(function(){o.go("home.otp")}),t.setMenuHandlers(!1),t.setHeaderHandlers({paitentName:t.paitentName}),t.setFooterHandlers(!1)}]),app.controller("HomeController",["$scope","$state",function(e,t){e.setMenuHandlers({goToHomeFind:function(){t.go("home.find")},goToHomeOtp:function(){t.go("home.otp")},goToLabs:function(){},goToHomeAbout:function(){t.go("home.about")},goToHomeContact:function(){t.go("home.contact")}}),e.setHeaderHandlers(!1),e.setFooterHandlers(!0),$("#home-contact-us").popup({inline:!0,transition:"scale"})}]),app.controller("MasterController",["$scope","$rootScope",function(e,t){function o(t){e.backHandler=t}function n(t){e.menuHandlers=t}function a(t){e.headerHandlers=t}function r(t){e.footerHandlers=t}function l(){$("#ja-sidebar-menu").sidebar("setting","transition","overlay").sidebar("setting","mobileTransition","overlay").sidebar("toggle")}e.setBackHandler=o,e.setMenuHandlers=n,e.setHeaderHandlers=a,e.setFooterHandlers=r,e.toggleMenu=l,e.backHandler=void 0,e.menuHandlers=void 0,e.headerHandlers=void 0,e.footerHandlers=void 0}]),function(e){function t(e){e=String(e||"");var t=e.split("");return t.map(function(e){return void 0!=o[e]?o[e]:e}).join("")}var o={0:"۰",1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹"};e.toPersianNumber=t}(window),app.controller("HomeAboutController",["$scope","$state",function(e,t){e.setBackHandler(function(){t.go("home.find")})}]),app.controller("HomeContactController",["$scope","$state",function(e,t){e.setBackHandler(function(){t.go("home.find")})}]),app.controller("HomeFindController",["$rootScope","$scope","$state","$timeout",function(e,t,o,n){function a(){t.findingAnswer=!0,n(function(){return{testNumber:1234,nationalCode:"1234567890",paitentName:"حسام شکروی",testDate:new Date,answerDate:new Date,laboratoryName:"آزمایشگاه دکتر شاهپوری"}},400).then(function(n){e.data.answer=n,o.go("answer",{nationalCode:t.nationalCode,testNumber:t.testNumber,previousState:"home.find"})})}t.seeAnswer=a,t.findingAnswer=!1,t.setBackHandler(!1)}]),app.controller("HomeHistoryController",["$rootScope","$scope","$state","$stateParams","$timeout",function(e,t,o,n,a){function r(){t.sendingOtp=!0,a(function(){return{paitentName:"علی رضا محمودی",paitentTests:[1,2,3,4,5,6,7,8,9,0].map(function(e){return{laboratoryName:"آمایشگاه رازی مرکزی",testNumber:6822,testDate:new Date,answerDate:new Date,id:e}})}},400).then(function(n){e.data.paitentName=n.paitentName,e.data.paitentTests=n.paitentTests,o.go("history",{nationalCode:t.nationalCode})})}t.findHistory=r,t.nationalCode=n.nationalCode,t.findingHistory=!1,t.setBackHandler(function(){o.go("home.otp")})}]),app.controller("HomeOtpController",["$rootScope","$scope","$state","$timeout",function(e,t,o,n){function a(){t.sendingOtp=!0,n(function(){o.go("home.history",{nationalCode:t.nationalCode})},300)}t.sendOtp=a,t.sendingOtp=!1,t.setBackHandler(function(){o.go("home.find")})}]);